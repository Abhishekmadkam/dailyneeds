<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>File â€“ File Converter & Image Logo Tool</title>

<meta name="description" content="Change file extensions, convert image formats, add logo/watermark to images, and download as ZIP or individually. 100% client-side.">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<style>
*{font-family:'Poppins',sans-serif;}

body{
  background:linear-gradient(135deg,#e9eef6,#fdfefe);
  min-height:100vh;
}
body.dark{
  background:#020617;
  color:#e5e7eb;
}

.container{max-width:1200px}

/* HEADER */
.header{
  background:#ffffffcc;
  backdrop-filter:blur(10px);
  border-radius:20px;
  padding:20px 30px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}
body.dark .header{background:#020617}

/* CARD */
.card{
  border-radius:20px;
  box-shadow:0 20px 45px rgba(0,0,0,.1);
}
body.dark .card{background:#020617}

/* DROP ZONE */
.drop-zone{
  border:2px dashed #2563eb;
  border-radius:16px;
  padding:40px;
  text-align:center;
  cursor:pointer;
  transition:.3s;
  background:#f1f5ff;
}
.drop-zone:hover{background:#e7f1ff}
body.dark .drop-zone{
  background:#020617;
  border-color:#3b82f6;
}
body.dark .drop-zone:hover{background:#0b1220}

/* FILE LIST */
.file-item{
  display:flex;
  align-items:center;
  gap:12px;
}
.file-item img{
  width:44px;
  height:44px;
  border-radius:10px;
  object-fit:cover;
}

/* HISTORY */
.history{
  max-height:140px;
  overflow:auto;
  font-size:13px;
}

/* ADS */
.ad-space{
  background:#f8f9fd;
  border:2px dashed #dee2e6;
  border-radius:16px;
  padding:24px;
  text-align:center;
  font-size:14px;
  color:#6c757d;
  margin:30px 0;
}
body.dark .ad-space{
  background:#020617;
  border-color:#1e293b;
  color:#94a3b8;
}

@media(max-width:576px){
  .drop-zone{padding:25px}
}
</style>
</head>

<body class="py-4">
<div class="container">

<!-- HEADER -->
<div class="header mb-4 d-flex justify-content-between flex-wrap gap-2">
  <div>
    <h4 class="fw-bold mb-1"> File Converter</h4>
    <p class="text-muted mb-0">Professional file tools â€¢ 100% client-side</p>
  </div>
  <button id="themeToggle" class="btn btn-outline-secondary btn-sm">Dark Mode</button>
</div>

<!-- TOP AD -->
<div class="ad-space">
  Advertisement Space (Top Banner â€“ AdSense Ready)
</div>

<!-- TOOL CARD -->
<div class="card">
<div class="card-body">

<p class="text-muted">
Change file extensions, convert image formats, add logo/watermark to images, and download files safely. No uploads.
</p>

<div id="dropZone" class="drop-zone mb-3">
  Drag & Drop files here or click to upload
  <input type="file" id="fileInput" multiple hidden>
</div>

<ul id="fileList" class="list-group mb-3"></ul>

<div class="row g-2 mb-3">
  <div class="col-md-6">
    <input id="newExt" class="form-control" placeholder="Convert / change extension (png, jpg, pdf)">
  </div>
  <div class="col-md-6">
    <select id="downloadMode" class="form-select">
      <option value="zip">Download as ZIP</option>
      <option value="individual">Download Individually</option>
    </select>
  </div>
</div>

<!-- INLINE AD -->
<div class="ad-space">
  Advertisement Space (Inline / Responsive)
</div>

<hr>
<h6>Add Logo / Watermark (Images only)</h6>

<div class="row g-2 mb-3">
  <div class="col-md-4">
    <input type="file" id="logoInput" accept="image/*" class="form-control">
  </div>
  <div class="col-md-4">
    <select id="logoPosition" class="form-select">
      <option value="bottom-right">Bottom Right</option>
      <option value="bottom-left">Bottom Left</option>
      <option value="top-right">Top Right</option>
      <option value="top-left">Top Left</option>
      <option value="center">Center</option>
    </select>
  </div>
  <div class="col-md-4">
    <input type="range" id="logoOpacity" min="0.1" max="1" step="0.1" value="0.6" class="form-range">
  </div>
</div>

<button id="actionBtn" class="btn btn-primary w-100">Convert & Download</button>
<button id="clearBtn" class="btn btn-outline-danger w-100 mt-2">Clear All</button>

<p id="status" class="fw-semibold mt-2"></p>

<hr>
<h6>History</h6>
<div id="history" class="history text-muted">No history yet</div>

</div>
</div>

<!-- BOTTOM AD -->
<div class="ad-space">
  Advertisement Space (Bottom Banner â€“ AdSense Ready)
</div>

<p class="text-center text-muted mt-3">
  Powered by <strong>TeamOrbits</strong> â€¢ FreeTools
</p>

</div>

<script>
const fileInput=document.getElementById('fileInput');
const dropZone=document.getElementById('dropZone');
const fileList=document.getElementById('fileList');
const newExt=document.getElementById('newExt');
const downloadMode=document.getElementById('downloadMode');
const logoInput=document.getElementById('logoInput');
const logoOpacity=document.getElementById('logoOpacity');
const logoPosition=document.getElementById('logoPosition');
const actionBtn=document.getElementById('actionBtn');
const clearBtn=document.getElementById('clearBtn');
const status=document.getElementById('status');
const historyBox=document.getElementById('history');
const themeToggle=document.getElementById('themeToggle');

let files=[];
let logoImg=null;

if(localStorage.theme==='dark')document.body.classList.add('dark');
themeToggle.onclick=()=>{
  document.body.classList.toggle('dark');
  localStorage.theme=document.body.classList.contains('dark')?'dark':'light';
};

dropZone.onclick=()=>fileInput.click();
dropZone.ondragover=e=>{e.preventDefault();dropZone.classList.add('border-primary')};
dropZone.ondragleave=()=>dropZone.classList.remove('border-primary');
dropZone.ondrop=e=>{
  e.preventDefault();
  dropZone.classList.remove('border-primary');
  files=[...e.dataTransfer.files];
  render();
};
fileInput.onchange=()=>{
  files=[...fileInput.files];
  render();
};

logoInput.onchange=e=>{
  if(!e.target.files[0]) return;
  logoImg=new Image();
  logoImg.src=URL.createObjectURL(e.target.files[0]);
};

function render(){
  fileList.innerHTML='';
  if(!files.length){
    fileList.innerHTML='<li class="list-group-item text-muted">No files added</li>';
    return;
  }
  files.forEach(f=>{
    const li=document.createElement('li');
    li.className='list-group-item file-item';
    if(f.type.startsWith('image')){
      const url=URL.createObjectURL(f);
      li.innerHTML=`<img src="${url}"> ${f.name}`;
      li.querySelector('img').onload=()=>URL.revokeObjectURL(url);
    }else{
      li.innerHTML=`ðŸ“„ ${f.name}`;
    }
    fileList.appendChild(li);
  });
}

function saveHistory(){
  const h=JSON.parse(localStorage.history||'[]');
  h.unshift(new Date().toLocaleString()+` â†’ ${files.length} files`);
  localStorage.history=JSON.stringify(h.slice(0,10));
  loadHistory();
}
function loadHistory(){
  const h=JSON.parse(localStorage.history||'[]');
  historyBox.innerHTML=h.length?h.map(e=>'â€¢ '+e).join('<br>'):'No history yet';
}
loadHistory();

actionBtn.onclick=async()=>{
  if(!files.length){
    status.innerText='Please add files first';
    return;
  }
  const zip=new JSZip();

  for(let f of files){
    let outputFile=f;
    const base=f.name.split('.').slice(0,-1).join('.')||'file';
    const ext=newExt.value||f.name.split('.').pop();
    const finalName=`${base}.${ext}`;

    if(logoImg && f.type.startsWith('image')){
      const img=await createImageBitmap(f);
      const c=document.createElement('canvas');
      c.width=img.width;
      c.height=img.height;
      const ctx=c.getContext('2d');
      ctx.drawImage(img,0,0);
      ctx.globalAlpha=logoOpacity.value;

      const w=img.width*0.2;
      const h=logoImg.height*(w/logoImg.width);
      let x=10,y=10;
      if(logoPosition.value.includes('right'))x=img.width-w-10;
      if(logoPosition.value.includes('bottom'))y=img.height-h-10;
      if(logoPosition.value==='center'){x=(img.width-w)/2;y=(img.height-h)/2}
      ctx.drawImage(logoImg,x,y,w,h);

      outputFile=await new Promise(r=>c.toBlob(r,f.type));
    }

    if(downloadMode.value==='zip'){
      zip.file(finalName,outputFile);
    }else{
      const a=document.createElement('a');
      const url=URL.createObjectURL(outputFile);
      a.href=url;
      a.download=finalName;
      a.click();
      URL.revokeObjectURL(url);
    }
  }

  if(downloadMode.value==='zip'){
    const blob=await zip.generateAsync({type:'blob'});
    const a=document.createElement('a');
    const url=URL.createObjectURL(blob);
    a.href=url;
    a.download='converted_files.zip';
    a.click();
    URL.revokeObjectURL(url);
  }

  status.innerText='Conversion completed successfully';
  saveHistory();
};

clearBtn.onclick=()=>{
  files=[];
  fileList.innerHTML='';
  status.innerText='';
};
</script>

</body>
</html>
